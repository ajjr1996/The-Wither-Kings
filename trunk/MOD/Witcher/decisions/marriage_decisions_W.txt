decisions = {
	#Marriage decisions
	marry_courtiers_human = {
		potential = {
			has_character_flag = marriage_decisions_open
			any_courtier = {
				NOT = { dynasty = ROOT }
				is_married = no
				age = 15
				is_female = no
				trait = human
				NOT = { trait = witcher }
				NOT = { trait = druid }
				NOT = { trait = sorcerer }
			}
			any_courtier = {
				NOT = { dynasty = ROOT }
				is_married = no
				is_consort = no
				age = 15
				NOT = { has_character_modifier = old_age }
				is_female = yes
				trait = human
				NOT = { trait = witcher }
				NOT = { trait = druid }
				NOT = { trait = sorcerer }
			}
		}
		allow = {
			any_courtier = {
				NOT = { dynasty = ROOT }
				is_married = no
				age = 15
				is_female = no
				trait = human
				NOT = { trait = witcher }
				NOT = { trait = druid }
				NOT = { trait = sorcerer }
			}
			any_courtier = {
				NOT = { dynasty = ROOT }
				is_married = no
				is_consort = no
				age = 15
				NOT = { has_character_modifier = old_age }
				is_female = yes
				trait = human
				NOT = { trait = witcher }
				NOT = { trait = druid }
				NOT = { trait = sorcerer }
			}
		}
		effect = {
			any_courtier = {
				limit = {
					NOT = { dynasty = ROOT }
					is_married = no
					age = 15
					NOT = { has_character_modifier = old_age }
					is_female = yes
					trait = human
					NOT = { trait = witcher }
					NOT = { trait = druid }
					NOT = { trait = sorcerer }
				}
				ROOT = {
					random_courtier = {
						limit = {
							NOT = { dynasty = ROOT }
							can_marry = PREVPREV
							is_married = no
							age = 15
							is_female = no
							trait = human
							NOT = { trait = witcher }
							NOT = { trait = druid }
							NOT = { trait = sorcerer }
						}
						add_spouse = PREVPREV
					}
				}
			}
		}
	}
	marry_courtiers_dwarf = {
		potential = {
			has_character_flag = marriage_decisions_open
			any_courtier = {
				NOT = { dynasty = ROOT }
				is_married = no
				age = 15
				is_female = no
				trait = dwarven
				NOT = { trait = witcher }
				NOT = { trait = druid }
				NOT = { trait = sorcerer }
			}
			any_courtier = {
				NOT = { dynasty = ROOT }
				is_married = no
				is_consort = no
				age = 15
				NOT = { has_character_modifier = old_age }
				is_female = yes
				trait = dwarven
				NOT = { trait = witcher }
				NOT = { trait = druid }
				NOT = { trait = sorcerer }
			}
		}
		allow = {
			any_courtier = {
				NOT = { dynasty = ROOT }
				is_married = no
				age = 15
				is_female = no
				trait = dwarven
				NOT = { trait = witcher }
				NOT = { trait = druid }
				NOT = { trait = sorcerer }
			}
			any_courtier = {
				NOT = { dynasty = ROOT }
				is_married = no
				is_consort = no
				age = 15
				NOT = { has_character_modifier = old_age }
				is_female = yes
				trait = dwarven
				NOT = { trait = witcher }
				NOT = { trait = druid }
				NOT = { trait = sorcerer }
			}
		}
		effect = {
			any_courtier = {
				limit = {
					NOT = { dynasty = ROOT }
					is_married = no
					age = 15
					NOT = { has_character_modifier = old_age }
					is_female = yes
					trait = dwarven
					NOT = { trait = witcher }
					NOT = { trait = druid }
					NOT = { trait = sorcerer }
				}
				ROOT = {
					random_courtier = {
						limit = {
							NOT = { dynasty = ROOT }
							can_marry = PREVPREV
							is_married = no
							age = 15
							is_female = no
							trait = dwarven
							NOT = { trait = witcher }
							NOT = { trait = druid }
							NOT = { trait = sorcerer }
						}
						add_spouse = PREVPREV
					}
				}
			}
		}
	}
	marry_courtiers_elf = {
		potential = {
			has_character_flag = marriage_decisions_open
			any_courtier = {
				NOT = { dynasty = ROOT }
				is_married = no
				age = 15
				is_female = no
				trait = elven
				NOT = { trait = witcher }
				NOT = { trait = druid }
				NOT = { trait = sorcerer }
			}
			any_courtier = {
				NOT = { dynasty = ROOT }
				is_married = no
				is_consort = no
				age = 15
				NOT = { has_character_modifier = old_age }
				is_female = yes
				trait = elven
				NOT = { trait = witcher }
				NOT = { trait = druid }
				NOT = { trait = sorcerer }
			}
		}
		allow = {
			any_courtier = {
				NOT = { dynasty = ROOT }
				is_married = no
				age = 15
				is_female = no
				trait = elven
				NOT = { trait = witcher }
				NOT = { trait = druid }
				NOT = { trait = sorcerer }
			}
			any_courtier = {
				NOT = { dynasty = ROOT }
				is_married = no
				is_consort = no
				age = 15
				NOT = { has_character_modifier = old_age }
				is_female = yes
				trait = elven
				NOT = { trait = witcher }
				NOT = { trait = druid }
				NOT = { trait = sorcerer }
			}
		}
		effect = {
			any_courtier = {
				limit = {
					NOT = { dynasty = ROOT }
					is_married = no
					age = 15
					NOT = { has_character_modifier = old_age }
					is_female = yes
					trait = elven
					NOT = { trait = witcher }
					NOT = { trait = druid }
					NOT = { trait = sorcerer }
				}
				ROOT = {
					random_courtier = {
						limit = {
							NOT = { dynasty = ROOT }
							can_marry = PREVPREV
							is_married = no
							age = 15
							is_female = no
							trait = elven
							NOT = { trait = witcher }
							NOT = { trait = druid }
							NOT = { trait = sorcerer }
						}
						add_spouse = PREVPREV
					}
				}
			}
		}
	}
}

# Vassal decisions are listed for each courtier and direct vassal. The ruler is in the FROM scope.
vassal_decisions = {
	marry_courtier_human = {
		from_potential = {
			has_character_flag = marriage_decisions_open
		}
		potential = {
			is_ruler = no
			is_married = no
			age = 15
			OR = {
				is_female = no
				AND ={
					NOT = { has_character_modifier = old_age }
					is_consort = no
				}
			}
			trait = human
			NOT = { trait = witcher }
			NOT = { trait = druid }
			NOT = { trait = sorcerer }
		}
		effect = {
			if = {
				limit = {
					is_female = no
					NOT = { age = 20 }
				}
				create_character = {
					female = yes
					age = 15
					dynasty = random
					random_traits = yes
					trait = human
				}
				new_character = {
					ROOT = {
						add_spouse = PREV
					}
				}
			}
			if = {
				limit = {
					is_female = no
					age = 20
					NOT = { age = 25 }
				}
				create_character = {
					female = yes
					age = 20
					dynasty = random
					random_traits = yes
					trait = human
				}
				new_character = {
					ROOT = {
						add_spouse = PREV
					}
				}
			}
			if = {
				limit = {
					is_female = no
					age = 25
					NOT = { age = 30 }
				}
				create_character = {
					female = yes
					age = 25
					dynasty = random
					random_traits = yes
					trait = human
				}
				new_character = {
					ROOT = {
						add_spouse = PREV
					}
				}
			}
			if = {
				limit = {
					is_female = no
					age = 30
					NOT = { age = 35 }
				}
				create_character = {
					female = yes
					age = 30
					dynasty = random
					random_traits = yes
					trait = human
				}
				new_character = {
					ROOT = {
						add_spouse = PREV
					}
				}
			}
			if = {
				limit = {
					is_female = no
					age = 35
				}
				create_character = {
					female = yes
					age = 35
					dynasty = random
					random_traits = yes
					trait = human
				}
				new_character = {
					ROOT = {
						add_spouse = PREV
					}
				}
			}
			if = {
				limit = {
					is_female = yes
					NOT = { age = 20 }
				}
				create_character = {
					female = no
					age = 20
					dynasty = random
					random_traits = yes
					trait = human
				}
				new_character = {
					add_spouse = ROOT
				}
			}
			if = {
				limit = {
					is_female = yes
					age = 20
					NOT = { age = 25 }
				}
				create_character = {
					female = no
					age = 25
					dynasty = random
					random_traits = yes
					trait = human
				}
				new_character = {
					add_spouse = ROOT
				}
			}
			if = {
				limit = {
					is_female = yes
					age = 25
					NOT = { age = 30 }
				}
				create_character = {
					female = no
					age = 30
					dynasty = random
					random_traits = yes
					trait = human
				}
				new_character = {
					add_spouse = ROOT
				}
			}
			if = {
				limit = {
					is_female = yes
					age = 30
					NOT = { age = 35 }
				}
				create_character = {
					female = no
					age = 35
					dynasty = random
					random_traits = yes
					trait = human
				}
				new_character = {
					add_spouse = ROOT
				}
			}
			if = {
				limit = {
					age = 35
					is_female = yes
				}
				create_character = {
					female = no
					age = 40
					dynasty = random
					random_traits = yes
					trait = human
				}
				new_character = {
					add_spouse = ROOT
				}
			}
		}
	}
	marry_courtier_dwarf = {
		from_potential = {
			has_character_flag = marriage_decisions_open
		}
		potential = {
			is_ruler = no
			is_married = no
			age = 15
			OR = {
				is_female = no
				AND ={
					NOT = { has_character_modifier = old_age }
					is_consort = no
				}
			}
			trait = dwarven
			NOT = { trait = witcher }
			NOT = { trait = druid }
			NOT = { trait = sorcerer }
		}
		effect = {
			if = {
				limit = {
					is_female = no
					NOT = { age = 20 }
				}
				create_character = {
					female = yes
					age = 15
					dynasty = random
					culture = dwarven
					religion = dwarven
					random_traits = yes
					trait = dwarven
				}
				new_character = {
					ROOT = {
						add_spouse = PREV
					}
				}
			}
			if = {
				limit = {
					is_female = no
					age = 20
					NOT = { age = 25 }
				}
				create_character = {
					female = yes
					age = 20
					dynasty = random
					culture = dwarven
					religion = dwarven
					random_traits = yes
					trait = dwarven
				}
				new_character = {
					ROOT = {
						add_spouse = PREV
					}
				}
			}
			if = {
				limit = {
					is_female = no
					age = 25
					NOT = { age = 30 }
				}
				create_character = {
					female = yes
					age = 25
					dynasty = random
					culture = dwarven
					religion = dwarven
					random_traits = yes
					trait = dwarven
				}
				new_character = {
					ROOT = {
						add_spouse = PREV
					}
				}
			}
			if = {
				limit = {
					is_female = no
					age = 30
					NOT = { age = 35 }
				}
				create_character = {
					female = yes
					age = 30
					dynasty = random
					culture = dwarven
					religion = dwarven
					random_traits = yes
					trait = dwarven
				}
				new_character = {
					ROOT = {
						add_spouse = PREV
					}
				}
			}
			if = {
				limit = {
					is_female = no
					age = 35
				}
				create_character = {
					female = yes
					age = 35
					dynasty = random
					culture = dwarven
					religion = dwarven
					random_traits = yes
					trait = dwarven
				}
				new_character = {
					ROOT = {
						add_spouse = PREV
					}
				}
			}
			if = {
				limit = {
					is_female = yes
					NOT = { age = 20 }
				}
				create_character = {
					female = no
					age = 20
					dynasty = random
					culture = dwarven
					religion = dwarven
					random_traits = yes
					trait = dwarven
				}
				new_character = {
					add_spouse = ROOT
				}
			}
			if = {
				limit = {
					is_female = yes
					age = 20
					NOT = { age = 25 }
				}
				create_character = {
					female = no
					age = 25
					dynasty = random
					culture = dwarven
					religion = dwarven
					random_traits = yes
					trait = dwarven
				}
				new_character = {
					add_spouse = ROOT
				}
			}
			if = {
				limit = {
					is_female = yes
					age = 25
					NOT = { age = 30 }
				}
				create_character = {
					female = no
					age = 30
					dynasty = random
					culture = dwarven
					religion = dwarven
					random_traits = yes
					trait = dwarven
				}
				new_character = {
					add_spouse = ROOT
				}
			}
			if = {
				limit = {
					is_female = yes
					age = 30
					NOT = { age = 35 }
				}
				create_character = {
					female = no
					age = 35
					dynasty = random
					culture = dwarven
					religion = dwarven
					random_traits = yes
					trait = dwarven
				}
				new_character = {
					add_spouse = ROOT
				}
			}
			if = {
				limit = {
					age = 35
					is_female = yes
				}
				create_character = {
					female = no
					age = 40
					dynasty = random
					culture = dwarven
					religion = dwarven
					random_traits = yes
					trait = dwarven
				}
				new_character = {
					add_spouse = ROOT
				}
			}
		}
	}
	marry_courtier_elf = {
		from_potential = {
			has_character_flag = marriage_decisions_open
		}
		potential = {
			is_ruler = no
			is_married = no
			age = 15
			OR = {
				is_female = no
				AND ={
					NOT = { has_character_modifier = old_age }
					is_consort = no
				}
			}
			trait = elven
			NOT = { trait = witcher }
			NOT = { trait = druid }
			NOT = { trait = sorcerer }
		}
		effect = {
			if = {
				limit = {
					is_female = no
					NOT = { age = 35 }
				}
				create_character = {
					female = yes
					age = 25
					dynasty = random
					culture = elven
					religion = dana_meadbh
					random_traits = yes
					trait = elven
				}
				new_character = {
					ROOT = {
						add_spouse = PREV
					}
				}
			}
			if = {
				limit = {
					is_female = no
					age = 35
					NOT = { age = 55 }
				}
				create_character = {
					female = yes
					age = 45
					dynasty = random
					culture = elven
					religion = dana_meadbh
					random_traits = yes
					trait = elven
				}
				new_character = {
					ROOT = {
						add_spouse = PREV
					}
				}
			}
			if = {
				limit = {
					is_female = no
					age = 55
					NOT = { age = 75 }
				}
				create_character = {
					female = yes
					age = 65
					dynasty = random
					culture = elven
					religion = dana_meadbh
					random_traits = yes
					trait = elven
				}
				new_character = {
					ROOT = {
						add_spouse = PREV
					}
				}
			}
			if = {
				limit = {
					is_female = no
					age = 75
					NOT = { age = 95 }
				}
				create_character = {
					female = yes
					age = 85
					dynasty = random
					culture = elven
					religion = dana_meadbh
					random_traits = yes
					trait = elven
				}
				new_character = {
					ROOT = {
						add_spouse = PREV
					}
				}
			}
			if = {
				limit = {
					is_female = no
					age = 95
				}
				create_character = {
					female = yes
					age = 105
					dynasty = random
					culture = elven
					religion = dana_meadbh
					random_traits = yes
					trait = elven
				}
				new_character = {
					ROOT = {
						add_spouse = PREV
					}
				}
			}
			if = {
				limit = {
					is_female = yes
					NOT = { age = 35 }
				}
				create_character = {
					female = no
					age = 25
					dynasty = random
					culture = elven
					religion = dana_meadbh
					random_traits = yes
					trait = elven
				}
				new_character = {
					add_spouse = ROOT
				}
			}
			if = {
				limit = {
					is_female = yes
					age = 35
					NOT = { age = 55 }
				}
				create_character = {
					female = no
					age = 45
					dynasty = random
					culture = elven
					religion = dana_meadbh
					random_traits = yes
					trait = elven
				}
				new_character = {
					add_spouse = ROOT
				}
			}
			if = {
				limit = {
					is_female = yes
					age = 55
					NOT = { age = 75 }
				}
				create_character = {
					female = no
					age = 65
					dynasty = random
					culture = elven
					religion = dana_meadbh
					random_traits = yes
					trait = elven
				}
				new_character = {
					add_spouse = ROOT
				}
			}
			if = {
				limit = {
					is_female = yes
					age = 75
					NOT = { age = 95 }
				}
				create_character = {
					female = no
					age = 85
					dynasty = random
					culture = elven
					religion = dana_meadbh
					random_traits = yes
					trait = elven
				}
				new_character = {
					add_spouse = ROOT
				}
			}
			if = {
				limit = {
					age = 95
					is_female = yes
				}
				create_character = {
					female = no
					age = 105
					dynasty = random
					culture = elven
					religion = dana_meadbh
					random_traits = yes
					trait = elven
				}
				new_character = {
					add_spouse = ROOT
				}
			}
		}
	}
}