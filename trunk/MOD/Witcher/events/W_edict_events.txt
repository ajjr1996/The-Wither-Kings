namespace = edict

###########################################
# Edict events
###########################################
# Change Crown Obligation
character_event = {
	id = edict.1
	desc = EVTDESCedict.1
	picture = GFX_evt_shadowy_cabal
	
	is_triggered_only = yes
	
	option = { # Increase law
		name = EVTOPTAedict.1
		trigger = {
			NOT = { has_law = crown_obligation_3 }
		}
		prestige = -100
		add_character_modifier = { name = edict_timer duration = 3650 }
		crownlaw_title = {
			if = {
				limit = { has_law = crown_obligation_2 }
				add_law_w_cooldown = crown_obligation_3
			}
			if = {
				limit = { has_law = crown_obligation_1 }
				add_law_w_cooldown = crown_obligation_2
			}
			if = {
				limit = { has_law = crown_obligation_0 }
				add_law_w_cooldown = crown_obligation_1
			}
			any_de_jure_vassal = {
				limit = {
					is_liege_or_above = ROOT
				}
				opinion = { who = ROOT modifier = opinion_increased_crown_obligation years = 10 }
			}
		}
	}
	option = { # Decrease law
		name = EVTOPTBedict.1
		trigger = {
			NOT = { has_law = crown_obligation_0 }
		}
		prestige = -100
		add_character_modifier = { name = edict_timer duration = 3650 }
		crownlaw_title = {
			if = {
				limit = { has_law = crown_obligation_1 }
				add_law_w_cooldown = crown_obligation_0
			}
			if = {
				limit = { has_law = crown_obligation_2 }
				add_law_w_cooldown = crown_obligation_1
			}
			if = {
				limit = { has_law = crown_obligation_3 }
				add_law_w_cooldown = crown_obligation_2
			}
		}
	}
	option = { # Cancel
		name = EVTOPTCedict.1
	}
}
# Change Crown Levy
character_event = {
	id = edict.2
	desc = EVTDESCedict.2
	picture = GFX_evt_shadowy_cabal
	
	is_triggered_only = yes
	
	option = { # Increase law
		name = EVTOPTAedict.1
		trigger = {
			NOT = { has_law = crown_levy_3 }
		}
		prestige = -100
		add_character_modifier = { name = edict_timer  duration = 3650 }
		crownlaw_title = {
			if = {
				limit = { has_law = crown_levy_2 }
				add_law_w_cooldown = crown_levy_3
			}
			if = {
				limit = { has_law = crown_levy_1 }
				add_law_w_cooldown = crown_levy_2
			}
			if = {
				limit = { has_law = crown_levy_0 }
				add_law_w_cooldown = crown_levy_1
			}
			any_de_jure_vassal = {
				limit = {
					is_liege_or_above = ROOT
				}
				opinion = { who = ROOT modifier = opinion_increased_crown_levy years = 10 }
			}
		}
	}
	option = { # Decrease law
		name = EVTOPTBedict.1
		trigger = {
			NOT = { has_law = crown_levy_0 }
		}
		prestige = -100
		add_character_modifier = { name = edict_timer duration = 3650 }
		crownlaw_title = {
			if = {
				limit = { has_law = crown_levy_1 }
				add_law_w_cooldown = crown_levy_0
			}
			if = {
				limit = { has_law = crown_levy_2 }
				add_law_w_cooldown = crown_levy_1
			}
			if = {
				limit = { has_law = crown_levy_3 }
				add_law_w_cooldown = crown_levy_2
			}
		}
	}
	option = { # Cancel
		name = EVTOPTCedict.1
	}
}
# Change Tolerance
character_event = {
	id = edict.3
	desc = EVTDESCedict.3
	picture = GFX_evt_shadowy_cabal
	
	is_triggered_only = yes
	
	option = { # Increase law
		name = EVTOPTAedict.1
		trigger = {
			NOT = { has_law = tolerance_2 }
		}
		prestige = -100
		add_character_modifier = { name = edict_timer duration = 3650 }
		crownlaw_title = {
			if = {
				limit = { has_law = tolerance_1 }
				add_law_w_cooldown = tolerance_2
			}
			if = {
				limit = { has_law = tolerance_0 }
				add_law_w_cooldown = tolerance_1
			}
			any_de_jure_vassal = {
				limit = {
					is_liege_or_above = ROOT
					trait = racist
				}
				opinion = { who = ROOT modifier = opinion_increased_tolerance years = 10 }
			}
		}
	}
	option = { # Decrease law
		name = EVTOPTBedict.1
		trigger = {
			NOT = { has_law = tolerance_0 }
		}
		prestige = -100
		add_character_modifier = { name = edict_timer duration = 3650 }
		crownlaw_title = {
			if = {
				limit = { has_law = tolerance_1 }
				add_law_w_cooldown = tolerance_0
			}
			if = {
				limit = { has_law = tolerance_2 }
				add_law_w_cooldown = tolerance_1
			}
			any_de_jure_vassal = {
				limit = {
					is_liege_or_above = ROOT
					OR = {
						trait = elven
						trait = dwarven
						trait = dryad
					}
				}
				opinion = { who = ROOT modifier = opinion_decreased_tolerance years = 10 }
			}
		}
	}
	option = { # Cancel
		name = EVTOPTCedict.1
	}
}


