namespace = brawldeath
#Dwarf Kills Man in Drunken Brawl
character_event = {
	id = brawldeath.100
	desc = brawldeath.100.desc
	picture = "GFX_evt_throne_room"
	
	is_triggered_only = yes
	
	trigger = {
		trait = human
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = brawldeath.101
		prestige = 10
		random = {
			chance = 10
			add_trait = just
		}
	}
	
	option = {
		name = brawldeath.102
		trigger = {
			NOT = { trait = tolerant }
		}
		random_list = {
			75 = {}
			15 = { add_trait = cruel }
			10 = { add_trait = racist }
		}
		hidden_tooltip = {
			random = {
				chance = 10
				character_event = { id = brawldeath.200 months = 1 }
			}
		}
#		customtooltip = "brawldeath102tooltip"
	}
	
	option = {
		name = brawldeath.103
		prestige = -20
		random = {
			chance = 15
			add_trait = arbitrary
		}
	}
}
#Brawl Death Impaler
character_event = {
	id = brawldeath.200
	desc = "brawldeath.200.desc"
	picture = "GFX_evt_pale_rider"
	
	capable_only = yes
	prisoner = no
	
	is_triggered_only = yes
	
	option = {
		name = "brawldeath.201"
		add_trait = impaler
	}
	option = {
		name = "brawldeath.202"
		add_character_modifier = {
			name = the_impaler
			duration = 365
		}
	}
}

#Combat Trait Initialization
character_event = {
	id = 5550111
	desc = "EVTDESC5550111"
	picture = "GFX_evt_knight"
	
	hide_window = yes
	
	trigger = {
		ai = no
		NOT = { has_global_flag = combat_traits_init }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		any_independent_ruler = {
			if = {
				limit = {
					OR = {
						trait = witcher
						trait = duelist
					}
					NOT = { trait = incapable }
					NOT = { trait = poor_warrior }
					NOT = { trait = trained_warrior }
					NOT = { trait = skilled_warrior }
					NOT = { trait = master_warrior }
				}
				random_list = {
					10 = { add_trait = trained_warrior }
					60 = { add_trait = skilled_warrior }
					30 = { add_trait = master_warrior }
				}
			}
			if = {
				limit = {
					OR = {
						trait = brilliant_strategist
						trait = skilled_tactician
					}
					NOT = { trait = witcher }
					NOT = { trait = duelist }
					NOT = { trait = incapable }
					NOT = { trait = poor_warrior }
					NOT = { trait = trained_warrior }
					NOT = { trait = skilled_warrior }
					NOT = { trait = master_warrior }
				}
				random_list = {
					20 = { add_trait = poor_warrior }
					40 = { add_trait = trained_warrior }
					30 = { add_trait = skilled_warrior }
					10 = { add_trait = master_warrior }
				}
			}
			if = {
				limit = {
					OR = {
						trait = misguided_warrior
						trait = skilled_tactician
					}
					NOT = { trait = witcher }
					NOT = { trait = tough_soldier }
					NOT = { trait = incapable }
					NOT = { trait = poor_warrior }
					NOT = { trait = trained_warrior }
					NOT = { trait = skilled_warrior }
					NOT = { trait = master_warrior }
				}
				random_list = {
					10 = { add_trait = poor_warrior }
					40 = { add_trait = trained_warrior }
					50 = { add_trait = skilled_warrior }
				}
			}
			any_realm_character = {
				if = {
					limit = {
						OR = {
							trait = witcher
							trait = duelist
						}
						NOT = { trait = incapable }
						NOT = { trait = poor_warrior }
						NOT = { trait = trained_warrior }
						NOT = { trait = skilled_warrior }
						NOT = { trait = master_warrior }
					}
					random_list = {
						10 = { add_trait = trained_warrior }
						60 = { add_trait = skilled_warrior }
						30 = { add_trait = master_warrior }
					}
				}
				if = {
					limit = {
						OR = {
							trait = brilliant_strategist
							trait = skilled_tactician
						}
						NOT = { trait = witcher }
						NOT = { trait = duelist }
						NOT = { trait = incapable }
						NOT = { trait = poor_warrior }
						NOT = { trait = trained_warrior }
						NOT = { trait = skilled_warrior }
						NOT = { trait = master_warrior }
					}
					random_list = {
						20 = { add_trait = poor_warrior }
						40 = { add_trait = trained_warrior }
						30 = { add_trait = skilled_warrior }
						10 = { add_trait = master_warrior }
					}
				}
				if = {
					limit = {
						OR = {
							trait = misguided_warrior
							trait = skilled_tactician
						}
						NOT = { trait = witcher }
						NOT = { trait = tough_soldier }
						NOT = { trait = incapable }
						NOT = { trait = poor_warrior }
						NOT = { trait = trained_warrior }
						NOT = { trait = skilled_warrior }
						NOT = { trait = master_warrior }
					}
					random_list = {
						10 = { add_trait = poor_warrior }
						40 = { add_trait = trained_warrior }
						50 = { add_trait = skilled_warrior }
					}
				}
			}
		}
	}
	
	option = { 
		name = "EVTOPTREMEMBERTRAINING"
		set_global_flag = combat_traits_init
	}
}