#############################################
#
# Sorcerer Events
#
# Event list:
# 0. sorcery.0 - Becoming a Sorcerer
# 1. sorcery.1 - A Rare Book
#
#############################################

namespace = sorcery

#0.Becoming a Sorcerer
character_event = {
	id = sorcery.0
	desc = EVTDESCsorcery.0
	picture = GFX_evt_book_carolingian_script

	only_rulers = yes
	prisoner = no
	capable_only = yes

	trigger = {
		age = 16
		has_ambition = obj_become_sorcerer
	}
	
	mean_time_to_happen = {
		months = 120
	}

	option = {
		name = EVTOPTAsorcery.0 #buy necessary books
		wealth = -300
		character_event = { id = sorcery.1 days = 60 } #studying books
	}
	option = {
		name = EVTOPTBsorcery.0 #maybe next year
		hidden_tooltip = {
		character_event = { id = sorcery.0 days = 365 } #repeats event year later
		}
	}
}
#0.Studying is hard
character_event = {
	id = sorcery.1
	desc = EVTDESCsorcery.1
	picture = GFX_evt_monk

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.1 #Buy more books!
		character_event = { id = sorcery.2 } #how many books?
	}
	option = {
		name = EVTOPTBsorcery.1 #Ask court mage for help
		trigger = {
			any_courtier = { has_job_title = job_mage }
		}
		random_courtier = { 
			limit = { has_job_title = job_mage }
			letter_event = { id = sorcery.5 days = 15 } #Mage is asked for help
		}
	}
	option = {
		name = EVTOPTCsorcery.1 #Study harder
		tooltip_info = diligent
		trigger = {
			trait = diligent
		}
		hidden_tooltip = {
		random_list = {
			10 = { 
				character_event = { id = sorcery.4 days = 180 }
			}
			90 = { 
				character_event = { id = sorcery.3 days = 120 }
			}
		}
	} }
	option = { 
		name = EVTOPTBsorcery.0 #I cannot aford this expense
		hidden_tooltip = {
			character_event = { id = sorcery.1 } #Repeats event next year
		}
	}
}
#How many books is enough?
character_event = {
	id = sorcery.2
	desc = EVTDESCsorcery.2
	picture = GFX_evt_monk
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAsorcery.2 #A bit is enough
		wealth = -100
		hidden_tooltip = {
		random_list = {
			20 = { 
				character_event = { id = sorcery.4 days = 60 }
			}
			80 = { 
				character_event = { id = sorcery.3 days = 60 }
			}
		}
	} }
	option = {
		name = EVTOPTBsorcery.2 #A lot more is enough
		wealth = -150
		hidden_tooltip = {
		random_list = {
			30 = {
				character_event = { id = sorcery.4 days = 80 }
			}
			70 = {
				character_event = { id = sorcery.3 days = 80 }
			}
		}
	} }
	option = {
		name = EVTOPTCsorcery.2 #Give me all the books!
		wealth = -200
		hidden_tooltip = {
		random_list = {
			40 = {
				character_event = { id = sorcery.4 days = 160 }
			}
			60 = {
				character_event = { id = sorcery.3 days = 160 }
			}
		}
	} }
	option = {
		name = EVTOPTDsorcery.2 #I can't afford this!
		character_event = { id = sorcery.1 days 3 }
	}
}
#More books is not enough
character_event = {
	id = sorcery.3
	desc = EVTDESCsorcery.3
	picture = GFX_evt_monk
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.3 #I am such a fool
		character_event = { id = sorcery.1 days = 12 }
	}
}
#More books IS enough / Studies harder success
character_event = {
	id = sorcery.4
	desc = EVTDESCsorcery.4
	picture = GFX_evt_monk

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.4 #I learned a bit about sorcery
		character_event = { id = sorcery.13 days = 120 }
	}
}
#Mage replies to request for help
letter_event = {
	id = sorcery.5
	desc = EVTDESCsorcery.5

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.5
		random_list = {
			50 = {
				modifier = {
					factor = 10
					personal_opinion = {
						who = FROM
						value = 100
					}
				}
				modifier = {
					factor = 6
					personal_opinion = {
						who = FROM
						value = 80
					}
				}
				modifier = {
					factor = 4
					personal_opinion = {
						who = FROM
						value = 60
					}
				}
				modifier = {
					factor = 3
					personal_opinion = {
						who = FROM
						value = 40
					}
				}
				modifier = {
					factor = 1.5
					is_close_relative = FROM
				}
			FROM = { letter_event = { id = sorcery.6 days = 15 } } #Positive Answer
			}
			50 = {
				modifier = {
					factor = 2
					personal_opinion = {
						who = FROM
						value = 10
					}
				}
				modifier = {
					factor = 3
					personal_opinion = {
						who = FROM
						value = 0
					}
				}
			FROM = { letter_event = { id = sorcery.7 days = 15 } } #Negative Answer
			}
		}
	}
}
#Recieve mage answer Positive
letter_event = {
	id = sorcery.6
	desc = EVTDESCsorcery.6
	picture = GFX_evt_courier

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.6
		random_courtier = { 
			limit = { has_job_title = job_mage }
			character_event = { id = sorcery.8 days = 60 } #Mage assesses my progress
		}
	}
}
#Recieve mage answer Negative
letter_event = {
	id = sorcery.7
	desc = EVTDESCsorcery.7
	picture = GFX_evt_courier

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.7
		character_event = { id = sorcery.1 days = 180 }
	}
}
#Studying with the court mage
character_event = {
	id = sorcery.8
	desc = EVTDESCsorcery.8
	picture = GFX_evt_monk

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.8
		random_list = {
			45 = {
				modifier = {
					factor = 3
					liege = { trait = genius }
				} 
				modifier = {
					factor = 2
					liege = { learning = 16 }
				}
				modifier = {
					factor = 1.8
					liege = { learning = 14 }
				}
				modifier = {
					factor = 1.6
					liege = { learning = 12 }
				}
				modifier = {
					factor = 1.4
					liege = { trait = quick }
				}
				modifier = {
					factor = 1.2
					liege = { trait = diligent }
				}
				modifier = {
					factor = 1.1
					liege = { trait = ambitious }
				}
				liege = { character_event = { id = sorcery.9 days = 90 } } #Praises my progress
			}
			45 = {
				modifier = {
					factor = 2
					liege = { learning = 6 }
				}
				modifier = {
					factor = 1.6
					liege = { learning = 8 }
				}
				modifier = {
					factor = 1.4
					liege = { learning = 10 }
				}
				modifier = {
					factor = 3
					liege = { trait = slow }
				}
				modifier = {
					factor = 1.8
					liege = { trait = slothful }
				}
				modifier = {
					factor = 1.2
					liege = { trait = content }
				}
				liege = { character_event = { id = sorcery.10 days = 60 } } #Scolds my incompetence
			}
			10 = {
				modifier = {
					factor = 50
					trait = greedy
				}
				liege = { letter_event = { id = sorcery.11 days = 30 } } #A little money would help
			}
		}
	}
}
#Praised for progress
character_event = {
	id = sorcery.9
	desc = EVTDESCsorcery.9
	picture = GFX_evt_courtiers_talking

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.9 #Being praised
		if = {
			limit = { NOT = { learning = 10 }
			}
			change_learning = 1
		}
		character_event = { id = sorcery.13 days = 60 }
	}
}
#Scolded for incompetence
character_event = {
	id = sorcery.10
	desc = EVTDESCsorcery.10
	picture = GFX_evt_scandal

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.10 #Storm out of the room
		random_courtier = {
			limit = { has_job_title = job_mage }
			opinion = {
				modifier = opinion_upset
				who = ROOT
				years = 5
			}
		}
		character_event = { id = sorcery.13 days = 60 }
	}
	option = {
		name = EVTOPTBsorcery.10 #Punch mage in the face
		random_courtier = { 
			limit = { has_job_title = job_mage }
			random = {
				chance = 25
				add_trait = wounded
			}
		}
		character_event = { id = sorcery.13 days = 60 }
	}	
}
#Asks for money
letter_event = {
	id = sorcery.11
	desc = EVTDESCsorcery.11
	picture = GFX_evt_courtiers_talking
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.11 #Give Money
		wealth = -30
		character_event = { id = sorcery.13 days = 60 }
	}
	option = {
		name = EVTOPTBsorcery.11 #Greedy bastard
		random_courtier = {
			limit = { has_job_title = job_mage }
			opinion = {
				modifier = refused_money_request
				who = ROOT
				years = 5
			}
		}
		character_event = { id = sorcery.12 days = 60 }
	}
}
#Result of not giving money
character_event = {
	id = sorcery.12
	desc = EVTDESCsorcery.12
	picture = GFX_evt_scandal
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.12 #Being informed
		character_event = { id = sorcery.13 days = 360 }
	}
}
#Finding an intersection
character_event = {
	id = sorcery.13
	desc = EVTDESCsorcery.13
	picture = GFX_evt_garden
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.13 #Investigate
		character_event = { id = sorcery.14 days = 30 }
	}
}		
#Start Academy Journey
character_event = {
	id = sorcery.14
	desc = EVTDESCsorcery.14
	picture = GFX_evt_book_carolingian_script
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.14 #Journey Start
		set_character_flag = journey_start
		set_character_flag = special_marshal
	}
}
############ JOURNEY EVENT CHAIN ##############	

#Journey Ban Ard
character_event = {
	id = sorcery.15
	desc = EVTDESCsorcery.15
	picture = GFX_evt_monastery_monks

	prisoner = no
	capable_only = yes
	only_men = yes

	trigger = {
		has_ambition = obj_become_sorcerer
		has_character_flag = journey_start
		NOT = { has_character_flag = magic_library }
		NOT = { trait = sorcerer }
		NOT = { trait = adept }
		location = {
			county = {
				title = c_ban_ard
			}
		}
	}
	mean_time_to_happen = {
		days = 1 
	}
	option = {
		name = EVTOPTAsorcery.15 #Use intrigue
		tooltip_info = intrigue
		trigger = {
			intrigue = 8
		}
		character_event = { id = sorcery.16 }
		set_character_flag = magic_library
	}
	option = {
		name = EVTOPTBsorcery.15 #Use diplomacy
		tooltip_info = diplomacy
		trigger = {
			diplomacy = 8
		}
		character_event = { id = sorcery.17 }
		set_character_flag = magic_library
	}
	option = {
		name = EVTOPTCsorcery.15 #Doesn't meet requirements
		trigger = {
			AND = {
				NOT = { intrigue = 8 }
				NOT = { diplomacy = 8 }
			}
		}
		character_event = { id = sorcery.99 days = 1 }
	}
}
#Journey Thanedd
character_event = {
	id = sorcery.18
	desc = EVTDESCsorcery.18
	picture = GFX_evt_monastery_nuns

	prisoner = no
	capable_only = yes
	is_female = yes

	trigger = {
		has_ambition = obj_become_sorcerer
		has_character_flag = journey_start
		NOT = { has_character_flag = magic_library }
		NOT = { trait = sorcerer }
		NOT = { trait = adept }
		location = {
			county = {
				title = c_thanedd
			}
		}

	}
	mean_time_to_happen = {
		days = 1 
	}
	option = {
		name = EVTOPTAsorcery.15 #Use intrigue
		tooltip_info = intrigue
		trigger = {
			intrigue = 8
		}
		character_event = { id = sorcery.16 }
		set_character_flag = magic_library
	}
	option = {
		name = EVTOPTBsorcery.15 #Use diplomacy
		tooltip_info = diplomacy
		trigger = {
			diplomacy = 8
		}
		character_event = { id = sorcery.17 }
		set_character_flag = magic_library
	}
	option = {
		name = EVTOPTCsorcery.15 #Doesn't meet requirements
		trigger = {
			AND = {
				NOT = { intrigue = 8 }
				NOT = { diplomacy = 8 }
			}
		}
		character_event = { id = sorcery.99 days = 1 }
	}
}
#Ban Ard Intrigue
character_event = {
	id = sorcery.16
	desc = EVTDESCsorcery.16
	picture = GFX_evt_shadow
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.16 #Simple plan
		hidden_tooltip = {
		random_list = {
			20 = {
				modifier = {
					factor = 1.8
					intrigue = 16
				}
				modifier = {
					factor = 1.6
					intrigue = 14
				}
				modifier = {
					factor = 1.4
					intrigue = 12
				}
				modifier = {
					factor = 1.2
					intrigue = 10
				}
			character_event = { id = sorcery.161 days = 1 } #Success
			}
			80 = {
			character_event = { id = sorcery.160 days = 1 } #Fail
			}
		}
	} }
	option = {
		name = EVTOPTBsorcery.16 #Solid plan
		tooltip_info = deceitful
		trigger = {
			trait = deceitful 
		}
		hidden_tooltip = {
		random_list = {
			40 = {
				modifier = {
					factor = 1.8
					intrigue = 16
				}
				modifier = {
					factor = 1.6
					intrigue = 14
				}
				modifier = {
					factor = 1.4
					intrigue = 12
				}
				modifier = {
					factor = 1.2
					intrigue = 10
				}
			character_event = { id = sorcery.161 days = 1 } #Success
			}
			60 = {
			character_event = { id = sorcery.160 days = 1 } #Fail
			}
		}
	} }
	option = {
		name = EVTOPTCsorcery.16 #Master plan
		tooltip_info = intrigue
		trigger = {
			OR = {
				trait = deceitful
				trait = elusive_shadow
				trait = intricate_webweaver
			} 
		}
		hidden_tooltip = {
		random_list = {
			60 = {
				modifier = {
					factor = 1.8
					intrigue = 16
				}
				modifier = {
					factor = 1.6
					intrigue = 14
				}
				modifier = {
					factor = 1.4
					intrigue = 12
				}
				modifier = {
					factor = 1.2
					intrigue = 10
				}
			character_event = { id = sorcery.161 days = 1 } #Success
			}
			40 = {
			character_event = { id = sorcery.160 days = 1 } #Fail
			}
		}
	} }
}
#Ban Ard Intrigue Success
character_event = {
	id = sorcery.161
	desc = EVTDESCsorcery.161
	picture = GFX_evt_shadow

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.161 #Got the info
		if = {
			limit = { NOT = { intrigue = 12 }
			}
			change_intrigue = 1
		}
		set_character_flag = magic_library
	}
}
#Ban Ard intrigue fail
character_event = {
	id = sorcery.160
	desc = EVTDESCsorcery.160
	picture = GFX_evt_shadow

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.160 #Got the info but...
		set_character_flag = magic_library
		random = {
			chance = 30
			add_trait = wounded
		}
		random = {
			chance = 10
			add_trait = maimed
		}
		random = {
			chance = 1
			add_trait = incapable
		}
	}
}
#Ban Ard diplomacy
character_event = {
	id = sorcery.17
	desc = EVTDESCsorcery.17
	picture = GFX_evt_whispers

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.17 #Talk your way in
		hidden_tooltip = {
		random_list = {
			20 = {
				modifier = {
					factor = 1.8
					diplomacy = 16
				}
				modifier = {
					factor = 1.6
					diplomacy = 14
				}
				modifier = {
					factor = 1.4
					diplomacy = 12
				}
				modifier = {
					factor = 1.2
					diplomacy = 10
				}
			character_event = { id = sorcery.171 days = 1 } #Success
			}
			80 = {
			character_event = { id = sorcery.170 days = 1 } #Fail
			}
		}
	} }
	option = {
		name = EVTOPTBsorcery.17 #Pretend to be one of the students
		tooltip_info = deceitful
		trigger = {
			trait = deceitful 
		}
		hidden_tooltip = {
		random_list = {
			40 = {
				modifier = {
					factor = 1.8
					diplomacy = 16
				}
				modifier = {
					factor = 1.6
					diplomacy = 14
				}
				modifier = {
					factor = 1.4
					diplomacy = 12
				}
				modifier = {
					factor = 1.2
					diplomacy = 10
				}
			character_event = { id = sorcery.171 days = 1 } #Success
			}
			60 = {
			character_event = { id = sorcery.170 days = 1 } #Fail
			}
		}
	} }
	option = {
		name = EvTOPTCsorcery.17 #Speech and gold
		scaled_wealth = -0.1
		tooltip_info = diplomacy
		trigger = {
			OR = {
				trait = silver_tongued
				trait = charismatic_negotiator
				trait = grey_eminence
			} 
		}
		hidden_tooltip = {
		random_list = {
			60 = {
				modifier = {
					factor = 1.8
					diplomacy = 16
				}
				modifier = {
					factor = 1.6
					diplomacy = 14
				}
				modifier = {
					factor = 1.4
					diplomacy = 12
				}
				modifier = {
					factor = 1.2
					diplomacy = 10
				}
			character_event = { id = sorcery.171 days = 1 } #Success
			}
			40 = {
			character_event = { id = sorcery.170 days = 1 } #Fail
			}
		}
	} }
}			
#Ban Ard Diplomacy Success
character_event = {
	id = sorcery.171
	desc = EVTDESCsorcery.171
	picture = GFX_evt_whispers

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.171 #Got the info
		if = {
			limit = { NOT = { diplomacy = 12 }
			}
			change_diplomacy = 1
		}
		set_character_flag = magic_library
	}
}
#Ban Ard Diplomacy fail
character_event = {
	id = sorcery.170
	desc = EVTDESCsorcery.170
	picture = GFX_evt_whispers

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.170 #Got the info but...
		set_character_flag = magic_library
		random = {
			chance = 30
			add_trait = wounded
		}
		random = {
			chance = 10
			add_trait = maimed
		}
		random = {
			chance = 1
			add_trait = incapable
		}
	}
}
#Journey Wait Event
character_event = {
	id = sorcery.99
	desc = EVTDESCsorcery.99
	picture = GFX_evt_monk
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.99 #Don't have the skills to proceed
	}
}
############ JOURNEY NILFGAARD ############

#Nilfgaard University
character_event = {
	id = sorcery.19
	desc = EVTDESCsorcery.19
	picture = GFX_evt_cathedral

	prisoner = no
	capable_only = yes

	trigger = {
		has_ambition = obj_become_sorcerer
		has_character_flag = journey_start
		NOT = { has_character_flag = nilfgaard_library }
		NOT = { trait = sorcerer }
		NOT = { trait = adept }
		location = {
			county = {
				title = c_nilfgaard
			}
		}
	}
	mean_time_to_happen = {
		days = 1 
	}
	option = {
		name = EVTOPTAsorcery.19 #Bribe librarian
		scaled_wealth = -0.2
		character_event = { id = sorcery.20 }
		set_character_flag = nilfgaard_library
	}
	option = {
		name = EVTOPTBsorcery.19 #Convince to let you in for free
		tooltip_info = diplomacy
		trigger = {
			diplomacy = 12
			NOT = { culture = nilfgaardian }
		}
		character_event = { id = sorcery.20 }
		set_character_flag = nilfgaard_library
	}
	option = {
		name = EVTOPTCsorcery.19 #Is an imperial citizen
		trigger = {
			culture = nilfgaardian
			martial = 8
		}
		set_character_flag = nilfgaard_library
		character_event = { id = sorcery.20 }
	}
}
#Nilfgaard University - Lost in the library
character_event = {
	id = sorcery.20
	desc = EVTDESCsorcery.20
	picture = GFX_evt_library

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.20 #I will find it on my own
		hidden_tooltip = {
		random_list = {
			50 = { character_event = { id = sorcery.201 days = 1 } } #found it!	
			50 = { character_event = { id = sorcery.200 days = 1 } } #failed to find it
		}
	} }
	option = {
		name = EVTOPTBsorcery.20 #Ask for directions
		tooltip_info = diplomacy
		trigger = {
			OR = {
				diplomacy = 12
				trait = gregarious
			}
		}
		hidden_tooltip = {
			location = {
				random_province_character = {
					limit = {
						NOT = { character = ROOT }
						age = 16
					}
					character_event = { id = sorcery.21 } #Meets character
				}
			}
		}
	}
	option = {
		name = EVTOPTCsorcery.20 #There must be a logical way
		tooltip_info = learning
		trigger = { learning = 16 }
		character_event = { id = sorcery.201 days = 1 } #found it!
	}
}
#Could not find the book
character_event = {
	id = sorcery.200
	desc = EVTDESCsorcery.200
	picture = GFX_evt_library

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.200 #Will keep on looking
		character_event = { id = sorcery.20 days = 1 }
	}
}
#Found the book
character_event = {
	id = sorcery.201
	desc = EVTDESCsorcery.201
	picture = GFX_evt_library
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.201 #Long night of reading ahead
		character_event = { id = sorcery.22 days = 1 } #Being followed
	}
}
#Asking directions
character_event = {
	id = sorcery.21
	desc = EVTDESCsorcery.21
	picture = GFX_evt_monk

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.21 #Do I like you?
		trigger = {
			FROM = {
				NOT = { culture_group = northern_group }
			}
		}
		FROM = { character_event = { id = sorcery.211 } } #Success
	}
	option = {
		name = EVTOPTBsorcery.21 #I hate northerners
		trigger = {
			FROM = { culture_group = northern_group }		
		}
		FROM = { character_event = { id = sorcery.210 } } #Fail
	}
}
#I hate this guy
character_event = {
	id = sorcery.210
	desc = EVTDESCsorcery.210
	picture = GFX_evt_quarrel

	is_triggered_Only = yes

	option = {
		name = EVTOPTAsorcery.210 #Thanks for directions, I hate you
		FROM = {
			opinion = {
				modifier = opinion_upset
				who = ROOT
				years = 5
			}
		}
		character_event = { id = sorcery.22 days = 1 } #Being followed
	}
}
#I like this guy
character_event = {
	id = sorcery.211
	desc = EVTDESCsorcery.211
	picture = GFX_evt_courtiers_talking

	is_triggered_Only = yes

	option = {
		name = EVTOPTAsorcery.211 #Thanks for directions, BFFS
		FROM = {
			opinion = {
				modifier = opinion_glad
				who = ROOT
				years = 5
			}
		}
		character_event = { id = sorcery.22 days = 1 } #Being followed
	}
}
#Being followed
character_event = {
	id = sorcery.22
	desc = EVTDESCsorcery.22
	picture = GFX_evt_shadow

	is_triggered_only = yes
	hide_from = yes

	option = {
		name = EVTOPTAsorcery.22 #Ask him what he wants
		hidden_tooltip = {
			create_random_soldier = {					
				min_age = 20
				max_age = 40
				random_traits = yes
				culture = nilfgaardian
				religion = solar
				dynasty = none
				employer = c_nilfgaard
				female = no
			}
			new_character = {
				if = {
					limit = { trait = misguided_warrior }
					change_martial = 4
				}
				if = {
					limit = { trait = tought_soldier }
					change_martial = 2
				}
				character_event = { id = sorcbattle.1 }
			}					
		}
	}
	option = {
		name = EVTOPTBsorcery.22 #Try to run away
		tooltip_info = intrigue
		trigger = { intrigue = 12 }
		hidden_tooltip = {
			random_list = {
				10 = {
					modifier = {
						factor = 1.6
						intrigue = 18
					}
					modifier = {
						factor = 1.4
						intrigue = 16
					}
					modifier = {
						factor = 1.2
						intrigue = 14
					}
					character_event = { id = sorcery.221 }
				}
				90 = { character_event = { id = sorcery.220 }
				}
			}
		}
	}
}
#Run away success
character_event = {
	id = sorcery.221
	desc = EVTDESCsorcery.221
	picture = GFX_evt_shadow

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.221 #Success
		character_event = { id = sorcery.23 days = 1 }
	}
}
#Run away fail
character_event = {
	id = sorcery.220
	desc = EVTDESCsorcery.220
	picture = GFX_evt_shadow

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.220 #Fail
		add_trait = wounded
		create_random_soldier = {					
			min_age = 20
			max_age = 40
			random_traits = yes
			culture = nilfgaardian
			religion = solar
			dynasty = none
			female = no
		}
		new_character = {
			if = {
				limit = { martial = 10 }
				change_martial = 4
			}
			if = {
				limit = { martial = 6 }
				change_martial = 6
			}
			character_event = { id = sorcbattle.1 days = 1 }
		}					
	}
}
#Whether this was the right outcome the robber was not just a distant memory
character_event = {
	id = sorcery.23
	desc = EVTDESCsorcery.23
	picture = GFX_evt_brothel

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.23 #Time to go home
		set_character_flag = going_home
	}
}
#Arrived Home
character_event = {
	id = sorcery.24
	desc = EVTDESCsorcery.24 
	picture = GFX_evt_feast
	
	prisoner = no
	capable_only = yes
	
	trigger = {
		has_ambition = obj_become_sorcerer
		has_character_flag = going_home
		NOT = { trait = sorcerer }
		NOT = { trait = adept }
		in_command = no
	}
	mean_time_to_happen = {
		days = 5 
	}
	option = {
		name = EVTOPTAsorcery.24
		clr_character_flag = going_home
		character_event = { id = sorcery.25 days = 60 } #Need to study new books
	}
}
############ MAGIC DECISION EVENT ############

#Make decision how to get magic power
character_event = {
	id = sorcery.25
	desc = EVTDESCsorcery.25
	picture = GFX_evt_book_carolingian_script

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.25 #Find a mage to give you his power
		set_character_flag = chose_mage_option
		character_event = { id = sorcery.250 days = 1 }
	}
	option = {
		name = EVTOPTBsorcery.25 #Find a child to sacrifice
		trigger = { NOT = { has_character_flag = abort_child_plot } }
		set_character_flag = chose_child_option
		character_event = { id = sorcery.251 days = 1 }
		add_trait = arbitrary
	}
}
#Explanatory note mage option
character_event = {
	id = sorcery.250
	desc = EVTDESCsorcery.250
	picture = GFX_evt_monk

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.250
	}
}
#Explanatory note child option
character_event = {
	id = sorcery.251
	desc = EVTDESCsorcery.251
	picture = GFX_evt_courier

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.251 #I will send my scouts to look for the child
		hidden_tooltip = {
		random_playable_ruler = {
			limit = {
				religion = ROOT
				culture = ROOT
			}
			create_character = {
				age = 0
				trait = magic_talent
				dynasty = none
			}
			new_character = {
				character_event = { id = sorcery.36 days = 10 }
			}
		}
	} }
}
#Sorcerer asked to perform ritual
character_event = {
	id = sorcery.26
	desc = EVTDESCsorcery.26
	picture = GFX_evt_pagan

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.26
		trigger = { 
			liege = {
				OR = {
					demesne_size = 2
					wealth = 750
				}
			}
		}
		liege = { character_event = { id = sorcery.27 days = 1 } }
	}
	option = {
		name = EVTOPTBsorcery.26
		trigger = {
			liege = {
				AND = {
					NOT = { demesne_size = 2 }
					NOT = { wealth = 750 }
				}
			}
		}
		liege = { character_event = { id = sorcery.270 days = 1 } }
	}
}
#Sorcerer says I have nothing to give
character_event = {
	id = sorcery.270
	desc = EVTDESCsorcery.270
	picture = GFX_evt_pagan

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.270 #I have nothing to give
		FROM = { character_event = { id = sorcery.26 days = 5 } }
	}
}	

#Sorcerer gives his conditions
character_event = {
	id = sorcery.27
	desc = EVTDESCsorcery.27
	picture = GFX_evt_pagan

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.27 #I will give you land
		trigger = { 
			ROOT = { demesne_size = 2 }
		}
		random_demesne_title = {
			limit = {
				lower_tier_than = DUKE
				can_be_given_away = yes
				NOT = {
					AND = {
						tier = count
						location = {
							is_capital = yes
						}						
					}
				}
			}
			grant_title = FROM
		}
		character_event = { id = sorcery.28 days = 2 }
	}
	option = {
		name = EVTOPTBsorcery.27 #I have no land but will give you gold
		trigger = { wealth = 750 }
		wealth = -750
		character_event = { id = sorcery.28 days = 2 }
	}
	option = {
		name = EVTOPTCsorcery.27 #I have to think this through
		FROM = { character_event = { id = sorcery.26 days = 5 } }
	}
	option = {
		name = EVTOPTDsorcery.27 #I will give you neither land nor gold and you will obey
		tooltip_info = cruel
		trigger = { trait = cruel }
		FROM = { imprison = ROOT }
		FROM = { character_event = { id = sorcery.31 } }
	}
}
#Sorcerer accepts my offer
character_event = {
	id = sorcery.28
	desc = EVTDESCsorcery.28
	picture = GFX_evt_pagan

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.28 #Take your gift and come back later
		FROMFROM = { character_event = { id = sorcery.29 days = 5 } }
	}
}
#Sorcerer Ping for ID30
character_event = {
	id = sorcery.29
	desc = EVTDESCsorcery.29
	picture = GFX_evt_monk

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.29 #Take your gift and come back later
		FROM = { character_event = { id = sorcery.30 days = 1 } }
	}
}
#Sorcerer asks for more
character_event = {
	id = sorcery.30
	desc = EVTDESCsorcery.30
	picture = GFX_evt_throne_room
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.30 #I will give you more
		wealth = -250
	}
	option = {
		name = EVTOPTBsorcery.30 #Enough! Some time in prison will change your mind
		FROM = { imprison = ROOT }
		FROM = { character_event = { id = sorcery.31 days = 10 } } 
	}
}
#I will not talk says mage
character_event = {
	id = sorcery.31
	desc = EVTDESCsorcery.31
	picture = GFX_evt_monk

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.31 #Not talk
		FROM = { character_event = { id = sorcery.32 days = 10 } }
	}
}
#Mage does not want to comply
character_Event = {
	id = sorcery.32
	desc = EVTDESCsorcery.32
	picture = GFX_evt_torture

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.32 #Fine go back to prison
		FROM = { character_event = { id = sorcery.33 days = 20 } }
			
	}
	option = {
		name = EVTOPTBsorcery.32 #Whipping should convince you
		trigger = { 
			OR = {
				FROM = {
					NOT = { trait = wounded }
					NOT = { trait = maimed }
				}
			}
		}
		FROM = {
			add_trait = wounded
			character_event = { id = sorcery.33 days = 10 }
			opinion = {
				modifier = opinion_whipped
				who = ROOT
				years = 5
			}
		}
	}
	option = {
		name = EVTOPTCsorcery.32 #Remove his hand
		trigger = { FROM = { NOT = { trait = maimed } } }
		FROM = {
			add_trait = maimed
			character_event = { id = sorcery.33 days = 15 }
			opinion = {
				modifier = opinion_angry
				who = ROOT
				years = 5
			}
		}
	}
	option = {
		name = EVTOPTDsorcery.32 #Who needs eyes
		trigger = { FROM = { NOT = { trait = blinded } } }
		FROM = {
			add_trait = blinded
			character_event = { id = sorcery.33 days = 20 }
			opinion = {
			modifier = opinion_blinded_me
				who = ROOT
			}
		}
	}
}
#Mage decides whether to agree
character_event = {
	id = sorcery.33
	desc = EVTDESCsorcery.33
	picture = GFX_evt_monk

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.33 #I will check my wounds and give reply
		random_list = {
			50 = {
				modifier = {
					factor = 4
					trait = blind
				}
				modifier = {
					factor = 3
					trait = maimed
				}
				modifier = {
					factor = 2
					trait = wounded
				}
				FROM = { character_event = { id = sorcery.341 days = 2 } } #I give up
			}
			50 = {
				modifier = {
					factor = 4
					NOT = { trait = blind }
				}
				modifier = {
					factor = 4
					NOT = { trait = maimed }
				}
				modifier = {
					factor = 2
					NOT = { trait = wounded }
				}
				FROM = { character_event = { id = sorcery.340 days = 2 } } #Tis a flesh wound
			}
		}
	}
}
#I decide not to agree
character_event = {
	id = sorcery.340
	desc = EVTDESCsorcery.340
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.340 #Put him back on the rack
		FROM = { character_event = { id = sorcery.31 days = 1 } }
	}
}
#Sorcerer decides he will agree
character_event = {
	id = sorcery.341
	desc = EVTDESCsorcery.341
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.341 #Excellent prepare the ritual
		character_event = { id = sorcery.35 days = 15 }
		clr_character_flag = chose_mage_option
	}
}
#Ritual Event
character_event = {
	id = sorcery.35
	desc = EVTDESCsorcery.35
	picture = GFX_evt_comet

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.35 #Ritual End of Quest
		add_trait = sorcerer
	}
}
#CHILD EVENT START
character_event = {
	id = sorcery.36
	desc = EVTDESCsorcery.36
	picture = GFX_evt_monk

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.36 #I have been born
		FROM = { character_event = { id = sorcery.37 days = 5 } }
	}
}
#My scouts have found the child
character_event = {
	id = sorcery.37
	desc = EVTDESCsorcery.37
	picture = GFX_evt_courier

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.37 #Plot kidnapping
	}
}
#If not complete event
character_event = {
	id = sorcery.38
	desc = EVTDESCsorcery.38
	picture = GFX_evt_monk

	trigger = {
		OR = {
			has_character_flag = chose_child_option
			has_character_flag = chose_mage_option
		}
	}

	mean_time_to_happen = {
		months = 60
	}

	option = {
		name = EVTOPTAsorcery.38 #I could find another way
		character_event = { id = sorcery.39 days = 5 }
	}
	option = {
		name = EVTOPTBsorcery.38 #I just need a bit more time
		character_event = { id = sorcery.38 days = 180 }
	}
}
#Sacrifice family option
character_event = {
	id = sorcery.39
	desc = EVTDESCsorcery.39
	picture = GFX_evt_bad_news
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.39 #I will make the sacrifice
		trigger = {
			any_child = {
				at_location = ROOT
				NOT = { trait = sorcerer }
			}
		}
		add_trait = kinslayer
		random_child = {
			limit = {
				at_location = ROOT
				NOT = { tratit = sorcerer }
			}
			death = {
				death_reason = death_sacrificed
				killer = ROOT
			}
		}
	}
	option = {
		name = EVTOPTBsorcery.39 #I just need a bit more time
		trigger = {
			any_child = {
				at_location = ROOT
				NOT = { trait = sorcerer }
			}
		}
		character_event = { id = sorcery.38 days = 30 }
	}
}
#Sacrifice Child Event
character_event = {
	id = sorcery.391
	desc = EVTDESCsorcery.391
	picture = GFX_evt_death

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.391 #The deed is done
		add_trait = sorcerer
		clr_character_flag = chose_mage_option
		clr_character_flag = chose_child_option
	}
}
#Kidnap Child Event
character_event = {
	id = sorcery.40
	desc = EVTDESCsorcery.40
	picture = GFX_evt_spymaster	
	trigger = {
		age = 16
		has_plot = plot_kidnap_child
	}
	
	mean_time_to_happen = {
		months = 60
		modifier = {
			factor = 10.0
			plot_target_char = { 
				is_ruler = yes 
				war = yes 
			}
		}
		modifier = {
			factor = 5.0
			plot_target_char = { tier = emperor }
		}
		modifier = {
			factor = 4.0
			plot_target_char = { tier = king }
		}			
		modifier = {
			factor = 3.0
			plot_target_char = { tier = duke }
		}			
		modifier = {
			factor = 2.0
			plot_target_char = { tier = count }
		}	
		modifier = {
			factor = 0.95
			num_of_plot_backers = 1
		}			
		modifier = {
			factor = 0.95
			num_of_plot_backers = 2
		}	
		modifier = {
			factor = 0.95
			num_of_plot_backers = 3
		}
		modifier = {
			factor = 0.95
			num_of_plot_backers = 4
		}
		modifier = {
			factor = 0.95
			num_of_plot_backers = 5
		}
		modifier = {
			factor = 0.95
			num_of_plot_backers = 6
		}	
		modifier = {
			factor = 0.95
			num_of_plot_backers = 7
		}	
		modifier = {
			factor = 0.95
			num_of_plot_backers = 8
		}	
		modifier = {
			factor = 0.95
			num_of_plot_backers = 9
		}	
		modifier = {
			factor = 0.95
			num_of_plot_backers = 10
		}		
		modifier = {
			factor = 0.66
			plot_power = 0.5
		}
		modifier = {
			factor = 0.66
			plot_power = 1.0
		}	
		modifier = {
			factor = 0.66
			plot_power = 1.5
		}
		modifier = {
			factor = 0.66
			plot_power = 2.0
		}
		modifier = {
			factor = 0.66
			plot_power = 3.0
		}	
		modifier = {
			factor = 0.66
			plot_power = 4.0
		}
		modifier = {
			factor = 0.66
			plot_power = 6.0
		}	
		modifier = {
			factor = 0.66
			plot_power = 8.0
		}
		modifier = {
			factor = 0.66
			plot_power = 10.0
		}		
	}
	option = {
		name = EVTOPTAsorcery.40 #Proceed with the plan		
		if = {
			limit = { trait = honest }
			remove_trait = honest
		}
		if = {
			limit = { trait = kind }
			remove_trait = kind
		}		
		plot_target_char = {		
			character_event = { id = sorcery.41 days = 3 } 
		}
		hidden_tooltip = { activate_plot = yes }		
	}
	option = {
		name = EVTOPTBsorcery.40 #I can't continue, this is immoral
		set_character_flag = abort_child_plot
		clr_character_flag = chose_child_option
	}	
}
#Child gets imprisoned
character_event = {
	id = sorcery.41
	desc = EVTDESCsorcery.41
	picture = GFX_evt_carriage
	
	is_triggered_only = yes
		
	option = {
		name = EVTDESCsorcery.41	
		opinion = {
			who = FROM
			modifier = kidnapped_me
			years = 100
		}		
		imprison = FROM
		hidden_tooltip = {
			FROM = { character_event = { id = sorcery.42 } }	
		}
	}
}
#I have kidnapped the child
character_event = {
	id = sorcery.42
	desc = EVTDESCsorcery.42
	picture = GFX_evt_carriage
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAsorcery.42 #Excellent
	}
}
#I am being sacrificed (Child)
character_event = {
	id = sorcery.43
	desc = EVTDESCsorcery.43
	picture = GFX_evt_monk	

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.43
		FROM = { character_event = { id = sorcery.44 days = 1 } }
	}
}
#Sacrifice Child Event
character_event = {
	id = sorcery.44
	desc = EVTDESCsorcery.44
	picture = GFX_evt_death

	is_triggered_only = yes

	option = {
		name = EVTOPTAsorcery.44 #The deed is done
		add_trait = sorcerer
		clr_character_flag = chose_mage_option
		clr_character_flag = chose_child_option
		FROM = {
			death = { death_reason = death_sacrificed killer = ROOT }
		}
	}
}
						


############ ACADEMY EVENT CHAIN ###############		
